<!doctype html><html lang=en-us dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Struggle with Matrix ClockWise? Here is all you need to know. | Zirui's Space</title>
<meta name=keywords content="leetcode,Matrix,ClockWise"><meta name=description content="The fool-proof way to introduce you the pattern of Matrix Iteration."><meta name=author content="Zirui"><link rel=canonical href=https://www.ziirui-resume-website.com/posts/tech/matrix_loop/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://www.ziirui-resume-website.com/img/Q.jpg><link rel=icon type=image/png sizes=16x16 href=https://www.ziirui-resume-website.com/img/Q.jpg><link rel=icon type=image/png sizes=32x32 href=https://www.ziirui-resume-website.com/img/Q.jpg><link rel=apple-touch-icon href=https://www.ziirui-resume-website.com/img/Q.jpgf><link rel=mask-icon href=https://www.ziirui-resume-website.com/img/Q.jpg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en-us href=https://www.ziirui-resume-website.com/posts/tech/matrix_loop/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script defer src=https://unpkg.com/mermaid@8.8.1/dist/mermaid.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script src=https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel=stylesheet><meta property="og:title" content="Struggle with Matrix ClockWise? Here is all you need to know."><meta property="og:description" content="The fool-proof way to introduce you the pattern of Matrix Iteration."><meta property="og:type" content="article"><meta property="og:url" content="https://www.ziirui-resume-website.com/posts/tech/matrix_loop/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-14T00:00:00+00:00"><meta property="article:modified_time" content="2024-12-14T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Struggle with Matrix ClockWise? Here is all you need to know."><meta name=twitter:description content="The fool-proof way to introduce you the pattern of Matrix Iteration."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"üìöPosts","item":"https://www.ziirui-resume-website.com/posts/"},{"@type":"ListItem","position":2,"name":"üë®üèª‚Äçüíª Tech","item":"https://www.ziirui-resume-website.com/posts/tech/"},{"@type":"ListItem","position":3,"name":"Struggle with Matrix ClockWise? Here is all you need to know.","item":"https://www.ziirui-resume-website.com/posts/tech/matrix_loop/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Struggle with Matrix ClockWise? Here is all you need to know.","name":"Struggle with Matrix ClockWise? Here is all you need to know.","description":"The fool-proof way to introduce you the pattern of Matrix Iteration.","keywords":["leetcode","Matrix","ClockWise"],"articleBody":"Introduction One question called Spiral Matrix has struggled me for a long time. After I read the solution, I found it is not hard to understand. But I still want to write this post to help you to understand the pattern of Matrix Iteration.\nThis post intends to let you understand the tricks of pattern in Matrix Iteration, rather than memorizing the code. So that whenever you encouter this problem or a similar one, you can solve it with ease. (Same logic can be applied to counter-clockwise iteration)\nThe Code Well, let‚Äôs first start with the full version of the code. And then I‚Äôll break it down for you.\n#include #include using namespace std; void Matrix_Iteration(vector\u003cvector\u003cint\u003e\u003e\u0026 matrix){ if(matrix.empty() || matrix[0].empty()){ return; } int top = 0, bottom = matrix.size() - 1; int left = 0, right = matrix[0].size() - 1; while(top \u003c= bottom \u0026\u0026 left \u003c= right){ // Go from left to right for(int col = left; col \u003c= right; ++col){ cout \u003c\u003c matrix[top][col]; } ++top; // Go from top to bottom for(int row = top; row \u003c= bottom; ++row){ cout \u003c\u003c matrix[row][right]; } --right; // Come back from right to left if(top \u003c= bottom){ for(int col = right; col \u003e= left; --col){ cout \u003c\u003c matrix[bottom][col]; } --bottom; } // Come back from bottom to top if(left \u003c= right){ for(int row = bottom; row \u003e= top; --row){ cout \u003c\u003c matrix[row][left]; } ++left; } } } int main() { vector\u003cvector\u003cint\u003e\u003e matrix = { {1,2,3}, {4,5,6}, {7,8,9} }; Matrix_Iteration(matrix); return 0; } The Pattern Breakdown ‚ÄúWow, that‚Äôs a lot of code!‚Äù you might say. Don‚Äôt panic, we‚Äôre about to start, and please give me just 3 minutes, and you‚Äôll walk away with no more fear for Matrix Iteration üòâ!\nNote: I‚Äôll use C++ to explain the code, but the logic is the same for other languages. And I won‚Äôt bother to explain this part, as it is self explanatory.\nvoid Matrix_Iteration(vector\u003cvector\u003cint\u003e\u003e\u0026 matrix){ //Check if the matrix is empty, it's edge case. if(matrix.empty() || matrix[0].empty()){ return; } //`top` and `bottom` controls to go up and down. //`left` and `right` controls to go left and right. int top = 0, bottom = matrix.size() - 1; int left = 0, right = matrix[0].size() - 1; } As simple as it is only edge case checker and matrix indices. I believe you can understand this part.\nPattern 1: For Loop Structure: The first pattern you should notice is how the inner For loops switch between row and col, as it goes like: col -\u003e row -\u003e col -\u003e row. Therefore, when you determine the first For loop (row OR col), you can apply the rest without thinking.\nIn a clockwise motion, we traverse to right first, so the column is changing, and we start with column index.\n//The while loop condition is self explanatory. while(top \u003c= bottom \u0026\u0026 left \u003c= right){ // Don't worry about the ending increment or decrement yet, just focus on the switch between row and col. for(int col = ; col ; ++col){ } for(int row = ; row ; ++row){ } for(int col = ; col ; --col){ } for(int row = ; row ; --row){ } } Pattern 2: The constant repetition Let‚Äôs now focus on each individual For loop. Like I said, the only thing you should figure out, is the first For loop, and let‚Äôs do that. First move, we go from 1 to 3 (from left to right), and we are currently on the top row.\nfor(int col = left; col \u003c=right ; ++col){ // `Top` is constant, only `col` is moving. cout \u003c\u003c matrix[top][col]; } And whatever the constant you have in the above loop, increment or decrement it accordingly. And you‚Äôll see how the next For Loop surpisingly start with that constant again!\nfor(int col = left; col \u003c=right ; ++col){ cout \u003c\u003c matrix[top][col]; // Notice the `top` here } ++top; // Notice the `top` again for(int row = top; row \u003c= bottom; ++row){ // Notice the `top` again } for(int col = ; col ; --col){ } for(int row = ; row ; --row){ } In summary:\nThe constant used in the current loopwill be decremented or incremented The constatn will be used in next loop interation again. So if we know this pattern, then for the 2nd for loop (goes from top to bottom and we are currently on the right side), right should be used, changed and re-applied in next loop accordingly.\nAttempt the pattern for(int col = left; col \u003c=right ; ++col){ cout \u003c\u003c matrix[top][col]; } ++top; for(int row = top; row \u003c= bottom; ++row){ cout \u003c\u003c matrix[row][right]; // See the `right` } --right; // See the `right` for(int col = right; col \u003e= left ; --col){ // See the `right` } for(int row = ; row ; --row){ } Apply to the rest If this makes sense to you, let‚Äôs finish the rest of the loop.\nfor(int col = left; col \u003c=right ; ++col){ cout \u003c\u003c matrix[top][col]; } ++top; for(int row = top; row \u003c= bottom; ++row){ cout \u003c\u003c matrix[row][right]; } --right; for(int col = right; col \u003e= left; --col){ cout \u003c\u003c matrix[bottom][col]; } --bottom; for(int row = bottom; row \u003e= top; --row){ cout \u003c\u003c matrix[row][left]; } ++left; Pattern 3: The If Statement For the Last 2 Loops The last 2 loops are the most tricky part, as they are the most likely to be out of bound. So we need to check if the variables are still valid. For this, just remember you should write if statement.\nSome might be hard to remember which variable you should write on the if statement. So here is a simple trick: The if statement is opposite to the for loop condition.\n//The last 2 loops //Because the For Loop will make sure the `left` and `right`, therefore we should check the if statement with `top` and `bottom`. if(top \u003c= bottom){ for(int col = right; col \u003e= left; --col){ //code... } --bottom; } //Same logic. The For Loop gurantees the `top` and `bottom` to stay in bound, therefore we should check `left` and `right`. if(left \u003c= right){ for(int row = bottom; row \u003e= top; --row){ //code... } ++left; } ","wordCount":"1029","inLanguage":"en-us","datePublished":"2024-12-14T00:00:00Z","dateModified":"2024-12-14T00:00:00Z","author":[{"@type":"Person","name":"Zirui"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.ziirui-resume-website.com/posts/tech/matrix_loop/"},"publisher":{"@type":"Organization","name":"Zirui's Space","logo":{"@type":"ImageObject","url":"https://www.ziirui-resume-website.com/img/Q.jpg"}}}</script></head><body id=top><script>(function(){let e,t=new RegExp("(^| )change-themes=([^;]*)(;|$)");(e=document.cookie.match(t))||((new Date).getHours()>=19||(new Date).getHours()<6?(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")))})(),localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.ziirui-resume-website.com/ accesskey=h title="Zirui's Space (Alt + H)"><img src=https://www.ziirui-resume-website.com/img/Q.jpg alt=logo aria-label=logo height=35>Zirui's Space</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.ziirui-resume-website.com/ title="üè† Home"><span>üè† Home</span></a></li><li><a href=https://www.ziirui-resume-website.com/posts title="üìö Posts"><span>üìö Posts</span></a></li><li><a href=https://www.ziirui-resume-website.com/about title="üôãüèª‚Äç‚ôÇÔ∏è About"><span>üôãüèª‚Äç‚ôÇÔ∏è About</span></a></li><li><a href=https://www.ziirui-resume-website.com/search title="üîç Search (Alt + /)" accesskey=/><span>üîç Search</span></a></li></ul></nav></header><main class="main page"><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}</style><article class=post-single><div id=single-content><header class=post-header><div class=breadcrumbs><a href=https://www.ziirui-resume-website.com/>üè† Home</a>&nbsp;¬ª&nbsp;<a href=https://www.ziirui-resume-website.com/posts/>üìöPosts</a>&nbsp;¬ª&nbsp;<a href=https://www.ziirui-resume-website.com/posts/tech/>üë®üèª‚Äçüíª Tech</a></div><h1 class=post-title>Struggle with Matrix ClockWise? Here is all you need to know.</h1><div class=post-description>The fool-proof way to introduce you the pattern of Matrix Iteration.</div><div class=post-meta><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}.parent-post-meta{display:flex;flex-wrap:wrap;opacity:.8}</style><span class=parent-post-meta><span id=post_meta_style_1><span class="fa fa-calendar-check-o"></span>
<span>2024-12-14
&nbsp;&nbsp;
</span></span><span id=post_meta_style_3><span class="fa fa-file-word-o"></span>
<span>1029Â≠ó
&nbsp;&nbsp;
</span></span><span id=post_meta_style_4><span class="fa fa-clock-o"></span>
<span>3ÂàÜÈíü
&nbsp;&nbsp;
</span></span><span id=post_meta_style_5><span class="fa fa-user-o"></span>
<span>Zirui
&nbsp;&nbsp;
</span></span><span id=post_meta_style_6><span class="fa fa-tags" style=opacity:.8></span>
<span><span class=post-tags-meta><a href=https://www.ziirui-resume-website.com/tags/leetcode/ style=color:var(--secondary)!important>Leetcode</a>
</span></span></span></span><span style=opacity:.8><span id=post_meta_style_7>&nbsp;&nbsp;
<span class="fa fa-eye"></span>
<span><span id=busuanzi_container_page_pv><span id=busuanzi_value_page_pv></span></span>
&nbsp;&nbsp;</span></span></span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a><ul><li><a href=#the-code aria-label="The Code">The Code</a></li></ul></li><li><a href=#the-pattern-breakdown aria-label="The Pattern Breakdown">The Pattern Breakdown</a><ul><li><a href=#pattern-1-for-loop-structure aria-label="Pattern 1: For Loop Structure:">Pattern 1: For Loop Structure:</a></li><li><a href=#pattern-2-the-constant-repetition aria-label="Pattern 2: The constant repetition">Pattern 2: The constant repetition</a><ul><li><a href=#attempt-the-pattern aria-label="Attempt the pattern">Attempt the pattern</a></li><li><a href=#apply-to-the-rest aria-label="Apply to the rest">Apply to the rest</a></li></ul></li><li><a href=#pattern-3-the-if-statement-for-the-last-2-loops aria-label="Pattern 3: The If Statement For the Last 2 Loops">Pattern 3: The If Statement For the Last 2 Loops</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{elements&&(activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")}))},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h1><p>One question called <a href=https://leetcode.com/problems/spiral-matrix/description/ target=_blank>Spiral Matrix </a>has struggled me for a long time. After I read the solution, I found it is not hard to understand. But I still want to write this post to help you to understand the pattern of Matrix Iteration.</p><p>This post intends to let you understand the tricks of pattern in Matrix Iteration, rather than memorizing the code. So that whenever you encouter this problem or a similar one, you can solve it with ease. (Same logic can be applied to counter-clockwise iteration)</p><h2 id=the-code>The Code<a hidden class=anchor aria-hidden=true href=#the-code>#</a></h2><p>Well, let&rsquo;s first start with the full version of the code. And then I&rsquo;ll break it down for you.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;vector&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>Matrix_Iteration</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>matrix</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>matrix</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>||</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>empty</span><span class=p>()){</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>top</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>bottom</span> <span class=o>=</span> <span class=n>matrix</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>left</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>right</span> <span class=o>=</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>top</span> <span class=o>&lt;=</span> <span class=n>bottom</span> <span class=o>&amp;&amp;</span> <span class=n>left</span> <span class=o>&lt;=</span> <span class=n>right</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Go from left to right
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>col</span> <span class=o>=</span> <span class=n>left</span><span class=p>;</span> <span class=n>col</span> <span class=o>&lt;=</span> <span class=n>right</span><span class=p>;</span> <span class=o>++</span><span class=n>col</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>matrix</span><span class=p>[</span><span class=n>top</span><span class=p>][</span><span class=n>col</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=o>++</span><span class=n>top</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// Go from top to bottom
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>row</span> <span class=o>=</span> <span class=n>top</span><span class=p>;</span> <span class=n>row</span> <span class=o>&lt;=</span> <span class=n>bottom</span><span class=p>;</span> <span class=o>++</span><span class=n>row</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>matrix</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>right</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=o>--</span><span class=n>right</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// Come back from right to left
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span><span class=p>(</span><span class=n>top</span> <span class=o>&lt;=</span> <span class=n>bottom</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>col</span> <span class=o>=</span> <span class=n>right</span><span class=p>;</span> <span class=n>col</span> <span class=o>&gt;=</span> <span class=n>left</span><span class=p>;</span> <span class=o>--</span><span class=n>col</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>matrix</span><span class=p>[</span><span class=n>bottom</span><span class=p>][</span><span class=n>col</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=o>--</span><span class=n>bottom</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// Come back from bottom to top
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span><span class=p>(</span><span class=n>left</span> <span class=o>&lt;=</span> <span class=n>right</span><span class=p>){</span>    
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>row</span> <span class=o>=</span> <span class=n>bottom</span><span class=p>;</span> <span class=n>row</span> <span class=o>&gt;=</span> <span class=n>top</span><span class=p>;</span> <span class=o>--</span><span class=n>row</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>matrix</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>left</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=o>++</span><span class=n>left</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>matrix</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>Matrix_Iteration</span><span class=p>(</span><span class=n>matrix</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><br><h1 id=the-pattern-breakdown>The Pattern Breakdown<a hidden class=anchor aria-hidden=true href=#the-pattern-breakdown>#</a></h1><p>&ldquo;Wow, that&rsquo;s a lot of code!&rdquo; you might say. Don&rsquo;t panic, we&rsquo;re about to start, and please give me just 3 minutes, and you&rsquo;ll walk away with no more fear for Matrix Iteration üòâ!</p><p>Note: I&rsquo;ll use C++ to explain the code, but the logic is the same for other languages. And I won&rsquo;t bother to explain this part, as it is self explanatory.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=kt>void</span> <span class=nf>Matrix_Iteration</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>matrix</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=c1>//Check if the matrix is empty, it&#39;s edge case.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=n>matrix</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>||</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>empty</span><span class=p>()){</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>//`top` and `bottom` controls to go up and down.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//`left` and `right` controls to go left and right.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>top</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>bottom</span> <span class=o>=</span> <span class=n>matrix</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>left</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>right</span> <span class=o>=</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>As simple as it is only edge case checker and matrix indices. I believe you can understand this part.</p><br><h2 id=pattern-1-for-loop-structure>Pattern 1: For Loop Structure:<a hidden class=anchor aria-hidden=true href=#pattern-1-for-loop-structure>#</a></h2><p>The first pattern you should notice is how the inner For loops switch between <code>row</code> and <code>col</code>, as it goes like: <strong>col -> row -> col -> row</strong>. Therefore, when you determine the first For loop (<strong>row OR col</strong>), you can apply the rest without thinking.</p><p>In a clockwise motion, we traverse to right first, so the column is changing, and we start with column index.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=c1>//The while loop condition is self explanatory.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>while</span><span class=p>(</span><span class=n>top</span> <span class=o>&lt;=</span> <span class=n>bottom</span> <span class=o>&amp;&amp;</span> <span class=n>left</span> <span class=o>&lt;=</span> <span class=n>right</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Don&#39;t worry about the ending increment or decrement yet, just focus on the switch between row and col.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>col</span> <span class=o>=</span> <span class=p>;</span> <span class=n>col</span>  <span class=p>;</span> <span class=o>++</span><span class=n>col</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>row</span> <span class=o>=</span> <span class=p>;</span> <span class=n>row</span>  <span class=p>;</span> <span class=o>++</span><span class=n>row</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>col</span> <span class=o>=</span> <span class=p>;</span> <span class=n>col</span>  <span class=p>;</span> <span class=o>--</span><span class=n>col</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>row</span> <span class=o>=</span> <span class=p>;</span> <span class=n>row</span>  <span class=p>;</span> <span class=o>--</span><span class=n>row</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><br><h2 id=pattern-2-the-constant-repetition>Pattern 2: The constant repetition<a hidden class=anchor aria-hidden=true href=#pattern-2-the-constant-repetition>#</a></h2><p>Let&rsquo;s now focus on each individual For loop. Like I said, the only thing you should figure out, is the first For loop, and let&rsquo;s do that. First move, we go from 1 to 3 (from <strong>left</strong> to <strong>right</strong>), and we are currently on the <strong>top</strong> row.</p><p><img loading=lazy src=/posts/tech/leetcode/spiral_matrix.jpg alt="Spiral Matrix"></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>col</span> <span class=o>=</span> <span class=n>left</span><span class=p>;</span> <span class=n>col</span> <span class=o>&lt;=</span><span class=n>right</span> <span class=p>;</span> <span class=o>++</span><span class=n>col</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=c1>// `Top` is constant, only `col` is moving.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>matrix</span><span class=p>[</span><span class=n>top</span><span class=p>][</span><span class=n>col</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>And whatever the <strong>constant</strong> you have in the above loop, increment or decrement it accordingly. And you&rsquo;ll see how the next For Loop surpisingly start with that <strong>constant</strong> again!</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>col</span> <span class=o>=</span> <span class=n>left</span><span class=p>;</span> <span class=n>col</span> <span class=o>&lt;=</span><span class=n>right</span> <span class=p>;</span> <span class=o>++</span><span class=n>col</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>matrix</span><span class=p>[</span><span class=n>top</span><span class=p>][</span><span class=n>col</span><span class=p>];</span> <span class=c1>// Notice the `top` here
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>++</span><span class=n>top</span><span class=p>;</span> <span class=c1>// Notice the `top` again
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>row</span> <span class=o>=</span> <span class=n>top</span><span class=p>;</span> <span class=n>row</span> <span class=o>&lt;=</span> <span class=n>bottom</span><span class=p>;</span> <span class=o>++</span><span class=n>row</span><span class=p>){</span> <span class=c1>// Notice the `top` again
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>col</span> <span class=o>=</span> <span class=p>;</span> <span class=n>col</span>  <span class=p>;</span> <span class=o>--</span><span class=n>col</span><span class=p>){</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>row</span> <span class=o>=</span> <span class=p>;</span> <span class=n>row</span>  <span class=p>;</span> <span class=o>--</span><span class=n>row</span><span class=p>){</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>In summary:</p><ol><li>The constant used in the current loopwill be decremented or incremented</li><li>The constatn will be used in next loop interation again.</li></ol><p>So if we know this pattern, then for the 2nd for loop (goes from top to bottom and we are currently on the <strong>right</strong> side), <code>right</code> should be used, changed and re-applied in next loop accordingly.</p><br><h3 id=attempt-the-pattern>Attempt the pattern<a hidden class=anchor aria-hidden=true href=#attempt-the-pattern>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>col</span> <span class=o>=</span> <span class=n>left</span><span class=p>;</span> <span class=n>col</span> <span class=o>&lt;=</span><span class=n>right</span> <span class=p>;</span> <span class=o>++</span><span class=n>col</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>matrix</span><span class=p>[</span><span class=n>top</span><span class=p>][</span><span class=n>col</span><span class=p>];</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>++</span><span class=n>top</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>row</span> <span class=o>=</span> <span class=n>top</span><span class=p>;</span> <span class=n>row</span> <span class=o>&lt;=</span> <span class=n>bottom</span><span class=p>;</span> <span class=o>++</span><span class=n>row</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>matrix</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>right</span><span class=p>];</span> <span class=c1>// See the `right`
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>--</span><span class=n>right</span><span class=p>;</span> <span class=c1>// See the `right`
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>col</span> <span class=o>=</span> <span class=n>right</span><span class=p>;</span> <span class=n>col</span> <span class=o>&gt;=</span> <span class=n>left</span> <span class=p>;</span> <span class=o>--</span><span class=n>col</span><span class=p>){</span> <span class=c1>// See the `right`
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>row</span> <span class=o>=</span> <span class=p>;</span> <span class=n>row</span>  <span class=p>;</span> <span class=o>--</span><span class=n>row</span><span class=p>){</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><br><h3 id=apply-to-the-rest>Apply to the rest<a hidden class=anchor aria-hidden=true href=#apply-to-the-rest>#</a></h3><p>If this makes sense to you, let&rsquo;s finish the rest of the loop.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>col</span> <span class=o>=</span> <span class=n>left</span><span class=p>;</span> <span class=n>col</span> <span class=o>&lt;=</span><span class=n>right</span> <span class=p>;</span> <span class=o>++</span><span class=n>col</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>matrix</span><span class=p>[</span><span class=n>top</span><span class=p>][</span><span class=n>col</span><span class=p>];</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>++</span><span class=n>top</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>row</span> <span class=o>=</span> <span class=n>top</span><span class=p>;</span> <span class=n>row</span> <span class=o>&lt;=</span> <span class=n>bottom</span><span class=p>;</span> <span class=o>++</span><span class=n>row</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>matrix</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>right</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>--</span><span class=n>right</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>col</span> <span class=o>=</span> <span class=n>right</span><span class=p>;</span> <span class=n>col</span> <span class=o>&gt;=</span> <span class=n>left</span><span class=p>;</span> <span class=o>--</span><span class=n>col</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>matrix</span><span class=p>[</span><span class=n>bottom</span><span class=p>][</span><span class=n>col</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>--</span><span class=n>bottom</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>row</span> <span class=o>=</span> <span class=n>bottom</span><span class=p>;</span> <span class=n>row</span> <span class=o>&gt;=</span> <span class=n>top</span><span class=p>;</span> <span class=o>--</span><span class=n>row</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>matrix</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>left</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>++</span><span class=n>left</span><span class=p>;</span>
</span></span></code></pre></div><h2 id=pattern-3-the-if-statement-for-the-last-2-loops>Pattern 3: The If Statement For the Last 2 Loops<a hidden class=anchor aria-hidden=true href=#pattern-3-the-if-statement-for-the-last-2-loops>#</a></h2><p>The last 2 loops are the most tricky part, as they are the most likely to be out of bound. So we need to check if the variables are still valid. <strong>For this, just remember you should write if statement.</strong></p><p>Some might be hard to remember which variable you should write on the if statement. So here is a simple trick: <strong>The if statement is opposite to the for loop condition.</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=c1>//The last 2 loops
</span></span></span><span class=line><span class=cl><span class=c1>//Because the For Loop will make sure the `left` and `right`, therefore we should check the if statement with `top` and `bottom`.
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>if</span><span class=p>(</span><span class=n>top</span> <span class=o>&lt;=</span> <span class=n>bottom</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>col</span> <span class=o>=</span> <span class=n>right</span><span class=p>;</span> <span class=n>col</span> <span class=o>&gt;=</span> <span class=n>left</span><span class=p>;</span> <span class=o>--</span><span class=n>col</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=c1>//code...
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=o>--</span><span class=n>bottom</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//Same logic. The For Loop gurantees the `top` and `bottom` to stay in bound, therefore we should check `left` and `right`.
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>if</span><span class=p>(</span><span class=n>left</span> <span class=o>&lt;=</span> <span class=n>right</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>row</span> <span class=o>=</span> <span class=n>bottom</span><span class=p>;</span> <span class=n>row</span> <span class=o>&gt;=</span> <span class=n>top</span><span class=p>;</span> <span class=o>--</span><span class=n>row</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=c1>//code...
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=o>++</span><span class=n>left</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></div><footer class=post-footer><nav class=paginav><a class=next href=https://www.ziirui-resume-website.com/posts/tech/cloud_website/><span class=title>¬ª</span><br><span>Tutorial - An Entry DevOps project</span></a></nav></footer></div></article></main><footer class=footer><span>Copyright
&copy;
2024
<a href=https://www.ziirui-resume-website.com/ style=color:#939393>Zirui's Space</a>
</span><span id=busuanzi_container><span class="fa fa-user"></span> <span id=busuanzi_value_site_uv></span>
<span class="fa fa-eye"></span> <span class=counter_views></span></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg class="topSvg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
<span id=read_progress></span>
</span></a><script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>let mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>200||document.documentElement.scrollTop>200?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{(function(){document.cookie="change-themes="+escape("false")})(),document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.body.addEventListener("copy",function(e){if(window.getSelection().toString()&&window.getSelection().toString().length>50){let t=e.clipboardData||window.clipboardData;if(t){e.preventDefault();let o="Zirui's Space",n=window.getSelection().toString(),s=window.getSelection().toString();t.setData("text/html",n),t.setData("text/plain",s)}}})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function i(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){let t=e.textContent;navigator.clipboard.writeText(t),i();return}const n=document.createRange();n.selectNodeContents(e);const s=window.getSelection();s.removeAllRanges(),s.addRange(n);try{document.execCommand("copy"),i()}catch{}s.removeRange(n)});let l=e.className.replaceAll("language-",""),n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div");o.innerText=l,n.setAttribute("class","mac-tool"),a.setAttribute("class","mac bb1"),r.setAttribute("class","mac bb2"),c.setAttribute("class","mac bb3"),o.setAttribute("class","language-type"),n.appendChild(a),n.appendChild(r),n.appendChild(c),n.appendChild(o),s.classList.contains("highlight")?(s.appendChild(t),s.appendChild(n)):s.parentNode.firstChild==s||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?(e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t),s.appendChild(n)):(e.parentNode.appendChild(t),s.appendChild(n)))})</script><script>const counter=document.querySelector(".counter_views");async function update_views(){try{const e=await fetch("https://c64v3yvtwepfmc5dd3mskmakn40tpsvk.lambda-url.us-east-1.on.aws/",{method:"POST",headers:{"Content-Type":"application/json/update_counter"},body:JSON.stringify({})}),t=await e.json();counter.innerHTML=`${t.count}`}catch{counter.innerHTML=`570`}}update_views()</script></body></html>